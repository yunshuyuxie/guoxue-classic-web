import{d as M,f as A,Z as g,c as D,v as r,x as s,F as i,O as p,P as f,J as E,I as u,A as h,W as _,D as k,a7 as N,X as m,Q as P,w as d}from"./vue-DO4TrDDV.js";import{_ as R}from"./index-2j2nU3k3.js";import"./tiny-BkDNni7d.js";const L={class:"profile-container"},j={class:"profile-header"},q={key:1,class:"edit-actions"},F={key:0,class:"profile-content"},T={class:"profile-main"},$={class:"user-card"},J={class:"avatar-container"},Q=["src","alt"],W={class:"user-info"},X={class:"username"},Z={class:"user-role"},G={class:"role-badge"},H={class:"user-bio"},K={class:"user-interests"},Y={class:"user-level"},ss={class:"level-info"},es={class:"level-title"},ts={class:"level-progress"},ls={class:"progress-bar"},is={class:"stats-card"},os={class:"stats-grid"},ns={class:"stat-item"},as={class:"stat-value"},rs={class:"stat-item"},ds={class:"stat-value"},us={class:"stat-item"},cs={class:"stat-value"},vs={class:"stat-item"},ms={class:"stat-value"},ps={class:"account-info"},fs={class:"info-item"},bs={class:"info-value"},gs={class:"info-item"},_s={class:"info-value"},ks={class:"info-item"},ys={class:"info-value"},hs={class:"info-item"},Ss={class:"info-value"},ws={class:"info-item"},xs={class:"info-value"},Cs={key:1,class:"profile-content edit-mode"},Vs={class:"form-section"},Us={class:"form-group"},zs={key:0,class:"error-message"},Ds={class:"form-group"},Ns={class:"avatar-selection"},Os=["onClick"],Bs=["src","alt"],Is={class:"avatar-name"},Ms={class:"form-group"},As=["value"],Es={class:"form-group"},Ps={class:"interests-selection"},Rs=["value"],Ls={class:"form-group"},js={key:0,class:"error-message"},qs={class:"char-count"},Fs={class:"form-section"},Ts={class:"form-group"},$s={key:0,class:"error-message"},Js={class:"form-group"},Qs={class:"form-section"},Ws={class:"form-group"},Xs=["value"],Zs={class:"form-group"},Gs={class:"notification-settings"},Hs={class:"switch-label"},Ks={class:"switch-label"},Ys={class:"switch-label"},se={class:"switch-label"},ee={class:"switch-label"},te=M({__name:"UserProfileView",setup(le){const S=[{value:"student",label:"学生"},{value:"teacher",label:"教师"},{value:"enthusiast",label:"文化爱好者"},{value:"researcher",label:"研究者"},{value:"other",label:"其他"}],w=[{value:"classics",label:"四书五经"},{value:"poetry",label:"诗词歌赋"},{value:"philosophy",label:"儒道思想"},{value:"history",label:"历史典籍"},{value:"art",label:"书画艺术"},{value:"medicine",label:"中医典籍"},{value:"military",label:"兵法谋略"}],x=[{value:"public",label:"公开"},{value:"friends",label:"仅好友可见"},{value:"private",label:"仅自己可见"}],O=[{id:1,src:"images/avatars/confucius.png",name:"孔子"},{id:2,src:"images/avatars/laozi.png",name:"老子"},{id:3,src:"images/avatars/zhuangzi.png",name:"庄子"},{id:4,src:"images/avatars/mencius.png",name:"孟子"},{id:5,src:"images/avatars/sunzi.png",name:"孙子"},{id:6,src:"images/avatars/mulan.png",name:"花木兰"},{id:7,src:"images/avatars/wangxifeng.png",name:"王熙凤"},{id:8,src:"images/avatars/linDaiyu.png",name:"林黛玉"}],v=A(!1),n=g({username:"国学爱好者",nickname:"子曰诗云",avatar:"images/avatars/confucius.png",selectedAvatarId:1,role:"enthusiast",interests:["classics","poetry","philosophy"],bio:"温故而知新，可以为师矣。",email:"user@example.com",phone:"138****1234",registerDate:"2023-05-15",lastLoginDate:"2023-10-10",privacySetting:"public",notificationSettings:{emailNotification:!0,pushNotification:!0,activitySummary:!0,newContent:!0,commentReplies:!0}}),a=g({nickname:"",email:"",bio:""}),l=g({...n}),c=g({readBooks:28,completedCourses:5,quizScore:85,totalReadingTime:120,favoriteCategories:["诗词歌赋","儒家经典"]}),C=()=>{v.value,Object.assign(l,n),v.value=!v.value},V=()=>{let o=!1;l.nickname?l.nickname.length>20?(a.nickname="昵称不能超过20个字符",o=!0):a.nickname="":(a.nickname="请输入昵称",o=!0),l.email&&!/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/.test(l.email)?(a.email="请输入正确的邮箱格式",o=!0):a.email="",l.bio&&l.bio.length>200?(a.bio="个人简介不能超过200个字符",o=!0):a.bio="",!o&&(Object.assign(n,l),v.value=!1,alert("个人资料已更新"))},B=(o,e)=>{l.selectedAvatarId=o,l.avatar=e},y=D(()=>{const o=c.readBooks*2+c.completedCourses*5+c.quizScore/10;return o>100?{level:"大儒",progress:90}:o>80?{level:"博士",progress:75}:o>60?{level:"举人",progress:60}:o>40?{level:"秀才",progress:45}:o>20?{level:"童生",progress:30}:{level:"初学",progress:15}}),I=D(()=>n.interests.map(o=>{const e=w.find(b=>b.value===o);return e?e.label:o}));return(o,e)=>{var b,U;return d(),r("div",L,[s("div",j,[e[12]||(e[12]=s("h1",null,"个人资料",-1)),v.value?(d(),r("div",q,[s("button",{class:"save-button",onClick:V},"保存"),s("button",{class:"cancel-button",onClick:C},"取消")])):(d(),r("button",{key:0,class:"edit-button",onClick:C},"编辑资料"))]),v.value?(d(),r("div",Cs,[s("form",{onSubmit:P(V,["prevent"]),class:"edit-form"},[s("div",Vs,[e[30]||(e[30]=s("h3",null,"基本信息",-1)),s("div",Us,[e[25]||(e[25]=s("label",{for:"nickname"},"昵称",-1)),u(s("input",{type:"text",id:"nickname","onUpdate:modelValue":e[0]||(e[0]=t=>l.nickname=t),class:k({error:a.nickname})},null,2),[[_,l.nickname]]),a.nickname?(d(),r("div",zs,i(a.nickname),1)):h("",!0)]),s("div",Ds,[e[26]||(e[26]=s("label",null,"选择头像",-1)),s("div",Ns,[(d(),r(p,null,f(O,t=>s("div",{key:t.id,class:k(["avatar-option",{selected:l.selectedAvatarId===t.id}]),onClick:z=>B(t.id,t.src)},[s("img",{src:t.src,alt:t.name},null,8,Bs),s("span",Is,i(t.name),1)],10,Os)),64))])]),s("div",Ms,[e[27]||(e[27]=s("label",{for:"role"},"身份角色",-1)),u(s("select",{id:"role","onUpdate:modelValue":e[1]||(e[1]=t=>l.role=t)},[(d(),r(p,null,f(S,t=>s("option",{key:t.value,value:t.value},i(t.label),9,As)),64))],512),[[N,l.role]])]),s("div",Es,[e[28]||(e[28]=s("label",null,"学习兴趣",-1)),s("div",Ps,[(d(),r(p,null,f(w,t=>s("label",{key:t.value,class:"interest-checkbox"},[u(s("input",{type:"checkbox",value:t.value,"onUpdate:modelValue":e[2]||(e[2]=z=>l.interests=z)},null,8,Rs),[[m,l.interests]]),s("span",null,i(t.label),1)])),64))])]),s("div",Ls,[e[29]||(e[29]=s("label",{for:"bio"},"个人简介",-1)),u(s("textarea",{id:"bio","onUpdate:modelValue":e[3]||(e[3]=t=>l.bio=t),rows:"3",placeholder:"介绍一下自己吧...",class:k({error:a.bio})},null,2),[[_,l.bio]]),a.bio?(d(),r("div",js,i(a.bio),1)):h("",!0),s("div",qs,i(l.bio.length)+"/200",1)])]),s("div",Fs,[e[34]||(e[34]=s("h3",null,"联系方式",-1)),s("div",Ts,[e[31]||(e[31]=s("label",{for:"email"},"邮箱",-1)),u(s("input",{type:"email",id:"email","onUpdate:modelValue":e[4]||(e[4]=t=>l.email=t),class:k({error:a.email})},null,2),[[_,l.email]]),a.email?(d(),r("div",$s,i(a.email),1)):h("",!0)]),s("div",Js,[e[32]||(e[32]=s("label",{for:"phone"},"手机号",-1)),u(s("input",{type:"tel",id:"phone","onUpdate:modelValue":e[5]||(e[5]=t=>l.phone=t),disabled:""},null,512),[[_,l.phone]]),e[33]||(e[33]=s("div",{class:"field-note"},"手机号为注册账号，不可修改",-1))])]),s("div",Qs,[e[42]||(e[42]=s("h3",null,"隐私设置",-1)),s("div",Ws,[e[35]||(e[35]=s("label",{for:"privacy"},"个人资料可见性",-1)),u(s("select",{id:"privacy","onUpdate:modelValue":e[6]||(e[6]=t=>l.privacySetting=t)},[(d(),r(p,null,f(x,t=>s("option",{key:t.value,value:t.value},i(t.label),9,Xs)),64))],512),[[N,l.privacySetting]])]),s("div",Zs,[e[41]||(e[41]=s("label",null,"通知设置",-1)),s("div",Gs,[s("label",Hs,[u(s("input",{type:"checkbox","onUpdate:modelValue":e[7]||(e[7]=t=>l.notificationSettings.emailNotification=t)},null,512),[[m,l.notificationSettings.emailNotification]]),e[36]||(e[36]=s("span",null,"邮件通知",-1))]),s("label",Ks,[u(s("input",{type:"checkbox","onUpdate:modelValue":e[8]||(e[8]=t=>l.notificationSettings.pushNotification=t)},null,512),[[m,l.notificationSettings.pushNotification]]),e[37]||(e[37]=s("span",null,"推送通知",-1))]),s("label",Ys,[u(s("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=t=>l.notificationSettings.activitySummary=t)},null,512),[[m,l.notificationSettings.activitySummary]]),e[38]||(e[38]=s("span",null,"活动摘要",-1))]),s("label",se,[u(s("input",{type:"checkbox","onUpdate:modelValue":e[10]||(e[10]=t=>l.notificationSettings.newContent=t)},null,512),[[m,l.notificationSettings.newContent]]),e[39]||(e[39]=s("span",null,"新内容提醒",-1))]),s("label",ee,[u(s("input",{type:"checkbox","onUpdate:modelValue":e[11]||(e[11]=t=>l.notificationSettings.commentReplies=t)},null,512),[[m,l.notificationSettings.commentReplies]]),e[40]||(e[40]=s("span",null,"评论回复",-1))])])])])],32)])):(d(),r("div",F,[s("div",T,[s("div",$,[s("div",J,[s("img",{src:n.avatar,alt:n.nickname,class:"user-avatar"},null,8,Q)]),s("div",W,[s("h2",null,i(n.nickname),1),s("p",X,"@"+i(n.username),1),s("div",Z,[s("span",G,i((b=S.find(t=>t.value===n.role))==null?void 0:b.label),1)]),s("p",H,i(n.bio),1),s("div",K,[(d(!0),r(p,null,f(I.value,t=>(d(),r("span",{class:"interest-tag",key:t},i(t),1))),128))])])]),s("div",Y,[s("div",ss,[s("span",es,"当前等级："+i(y.value.level),1),s("span",ts,i(y.value.progress)+"%",1)]),s("div",ls,[s("div",{class:"progress-fill",style:E({width:y.value.progress+"%"})},null,4)]),e[13]||(e[13]=s("p",{class:"level-tip"},"继续学习提升等级，解锁更多内容",-1))]),s("div",is,[e[18]||(e[18]=s("h3",null,"学习统计",-1)),s("div",os,[s("div",ns,[s("div",as,i(c.readBooks),1),e[14]||(e[14]=s("div",{class:"stat-label"},"已读经典",-1))]),s("div",rs,[s("div",ds,i(c.completedCourses),1),e[15]||(e[15]=s("div",{class:"stat-label"},"完成课程",-1))]),s("div",us,[s("div",cs,i(c.quizScore),1),e[16]||(e[16]=s("div",{class:"stat-label"},"测验得分",-1))]),s("div",vs,[s("div",ms,i(c.totalReadingTime)+"h",1),e[17]||(e[17]=s("div",{class:"stat-label"},"总阅读时长",-1))])])]),s("div",ps,[e[24]||(e[24]=s("h3",null,"账号信息",-1)),s("div",fs,[e[19]||(e[19]=s("span",{class:"info-label"},"邮箱",-1)),s("span",bs,i(n.email),1)]),s("div",gs,[e[20]||(e[20]=s("span",{class:"info-label"},"手机号",-1)),s("span",_s,i(n.phone),1)]),s("div",ks,[e[21]||(e[21]=s("span",{class:"info-label"},"注册时间",-1)),s("span",ys,i(n.registerDate),1)]),s("div",hs,[e[22]||(e[22]=s("span",{class:"info-label"},"上次登录",-1)),s("span",Ss,i(n.lastLoginDate),1)]),s("div",ws,[e[23]||(e[23]=s("span",{class:"info-label"},"隐私设置",-1)),s("span",xs,i((U=x.find(t=>t.value===n.privacySetting))==null?void 0:U.label),1)])])])]))])}}}),ae=R(te,[["__scopeId","data-v-5904b95c"]]);export{ae as default};
