import{d as I,f as N,Z as j,c as m,v as n,x as s,J as D,F as a,O as d,P as u,D as v,A as F,ag as J,w as o}from"./vue-DO4TrDDV.js";import{_ as L}from"./index-FWtf0PY5.js";import"./tiny-BodeErl7.js";const P={class:"onboarding-container"},R={class:"progress-bar"},U={class:"steps-indicator"},A={class:"step-content"},E={key:0,class:"step-container"},Z={class:"role-options"},q=["onClick"],G={class:"role-icon"},H={key:1,class:"step-container"},K={class:"interest-container"},M={class:"category-title"},Q={class:"interest-options"},T=["onClick"],W={key:2,class:"step-container"},X={class:"level-options"},Y=["onClick"],ee={key:3,class:"step-container"},se={class:"recommendations"},te={class:"recommendation-section"},le={class:"books-grid"},ie=["onClick"],ne={class:"book-cover"},oe=["src","alt"],ae={class:"recommendation-section"},re={class:"courses-grid"},ce=["onClick"],de={class:"course-cover"},ue=["src","alt"],ve={class:"navigation-buttons"},g=4,ge=I({__name:"UserOnboardingView",setup(me){const p=J(),c=N(1),l=j({role:"",interests:[],level:"",recommendedBooks:[],recommendedCourses:[]}),f=[{value:"student",label:"学生",icon:"📚",description:"系统学习国学基础知识"},{value:"teacher",label:"教师",icon:"🧑‍🏫",description:"获取教学资源与教案"},{value:"enthusiast",label:"文化爱好者",icon:"🏮",description:"探索中华文化精髓"},{value:"researcher",label:"研究者",icon:"🔍",description:"深入研究经典著作"},{value:"parent",label:"家长",icon:"👨‍👩‍👧‍👦",description:"为孩子寻找国学启蒙材料"}],b=[{name:"经典著作",options:[{value:"four-books",label:"四书",selected:!1},{value:"five-classics",label:"五经",selected:!1},{value:"zhuzi",label:"诸子百家",selected:!1},{value:"histories",label:"史书",selected:!1}]},{name:"文学艺术",options:[{value:"poetry",label:"诗词歌赋",selected:!1},{value:"novels",label:"古典小说",selected:!1},{value:"calligraphy",label:"书法",selected:!1},{value:"painting",label:"国画",selected:!1}]},{name:"思想流派",options:[{value:"confucianism",label:"儒家",selected:!1},{value:"taoism",label:"道家",selected:!1},{value:"buddhism",label:"佛学",selected:!1},{value:"legalism",label:"法家",selected:!1}]},{name:"应用国学",options:[{value:"medicine",label:"中医典籍",selected:!1},{value:"strategy",label:"兵法谋略",selected:!1},{value:"divination",label:"易经预测",selected:!1},{value:"life-wisdom",label:"生活智慧",selected:!1}]}],h=[{value:"beginner",label:"初学者",description:"刚接触国学，希望从基础开始"},{value:"intermediate",label:"进阶者",description:"已有一定基础，想深入学习"},{value:"advanced",label:"资深爱好者",description:"熟悉经典著作，寻求更深层次理解"}],k=m(()=>{const i=[{id:1,title:"论语译注",author:"杨伯峻",cover:"/images/books/lunyu.png",tags:["confucianism","four-books","beginner"]},{id:2,title:"老子今注今译",author:"陈鼓应",cover:"/images/books/laozi.png",tags:["taoism","zhuzi","beginner"]},{id:3,title:"史记(精装本)",author:"司马迁",cover:"/images/books/shiji.png",tags:["histories","intermediate"]},{id:4,title:"唐诗三百首详析",author:"喻守真",cover:"/images/books/tangshi.png",tags:["poetry","beginner"]},{id:5,title:"孟子译注",author:"杨伯峻",cover:"/images/books/mengzi.png",tags:["confucianism","four-books","intermediate"]},{id:6,title:"庄子今注今译",author:"陈鼓应",cover:"/images/books/zhuangzi.png",tags:["taoism","zhuzi","advanced"]},{id:7,title:"红楼梦(校注本)",author:"曹雪芹",cover:"/images/books/hongloumeng.png",tags:["novels","intermediate"]},{id:8,title:"孙子兵法译注",author:"曹操等",cover:"/images/books/sunzi.png",tags:["strategy","intermediate"]}];let e=i;return l.interests.length>0&&(e=e.filter(t=>t.tags.some(r=>l.interests.includes(r)))),l.level&&(e=e.filter(t=>t.tags.includes(l.level))),e.length===0?i.slice(0,4):e.slice(0,4)}),_=m(()=>{const i=[{id:1,title:"论语导读",instructor:"王教授",cover:"/images/courses/lunyu-course.png",tags:["confucianism","four-books","beginner","teacher"]},{id:2,title:"诗词鉴赏入门",instructor:"李教授",cover:"/images/courses/poetry-course.png",tags:["poetry","beginner","enthusiast"]},{id:3,title:"易经与现代生活",instructor:"张教授",cover:"/images/courses/yijing-course.png",tags:["divination","intermediate","enthusiast"]},{id:4,title:"国学与教育",instructor:"刘教授",cover:"/images/courses/education-course.png",tags:["teacher","parent"]},{id:5,title:"道家思想专题研究",instructor:"陈教授",cover:"/images/courses/taoism-course.png",tags:["taoism","advanced","researcher"]},{id:6,title:"儿童国学启蒙",instructor:"赵老师",cover:"/images/courses/children-course.png",tags:["parent","beginner"]}];let e=i;return l.role&&(e=e.filter(t=>t.tags.includes(l.role))),l.interests.length>0&&(e=e.filter(t=>t.tags.some(r=>l.interests.includes(r)))),l.level&&(e=e.filter(t=>t.tags.includes(l.level))),e.length===0?i.slice(0,3):e.slice(0,3)}),C=i=>{l.role=i},y=i=>{const e=l.interests.indexOf(i);e===-1?l.interests.push(i):l.interests.splice(e,1)},z=i=>{l.level=i},O=i=>{const e=l.recommendedBooks.indexOf(i);e===-1?l.recommendedBooks.push(i):l.recommendedBooks.splice(e,1)},x=i=>{const e=l.recommendedCourses.indexOf(i);e===-1?l.recommendedCourses.push(i):l.recommendedCourses.splice(e,1)},S=()=>{c.value<g?c.value++:w()},B=()=>{c.value>1&&c.value--},w=()=>{localStorage.setItem("userOnboardingCompleted","true"),localStorage.setItem("userSelections",JSON.stringify(l)),p.push("/home")},$=()=>{confirm("确定要跳过个性化设置吗？您可以稍后在个人设置中完成。")&&(localStorage.setItem("userOnboardingCompleted","true"),p.push("/home"))},V=m(()=>(c.value-1)/(g-1)*100);return(i,e)=>(o(),n("div",P,[s("div",{class:"onboarding-header"},[e[0]||(e[0]=s("h1",null,"开启您的国学之旅",-1)),s("button",{class:"skip-button",onClick:$},"跳过")]),s("div",R,[s("div",{class:"progress-fill",style:D({width:V.value+"%"})},null,4)]),s("div",U,[s("span",null,a(c.value)+" / "+a(g),1)]),s("div",A,[c.value===1?(o(),n("div",E,[e[1]||(e[1]=s("h2",null,"您是以什么身份学习国学？",-1)),e[2]||(e[2]=s("p",{class:"step-description"},"选择您的角色，我们将为您提供更符合需求的内容",-1)),s("div",Z,[(o(),n(d,null,u(f,t=>s("div",{key:t.value,class:v(["role-card",{selected:l.role===t.value}]),onClick:r=>C(t.value)},[s("div",G,a(t.icon),1),s("h3",null,a(t.label),1),s("p",null,a(t.description),1)],10,q)),64))])])):c.value===2?(o(),n("div",H,[e[3]||(e[3]=s("h2",null,"您对哪些国学领域感兴趣？",-1)),e[4]||(e[4]=s("p",{class:"step-description"},"选择您感兴趣的领域（可多选），帮助我们推荐合适的内容",-1)),s("div",K,[(o(),n(d,null,u(b,t=>s("div",{key:t.name,class:"interest-category"},[s("h3",M,a(t.name),1),s("div",Q,[(o(!0),n(d,null,u(t.options,r=>(o(),n("div",{key:r.value,class:v(["interest-tag",{selected:l.interests.includes(r.value)}]),onClick:pe=>y(r.value)},a(r.label),11,T))),128))])])),64))])])):c.value===3?(o(),n("div",W,[e[5]||(e[5]=s("h2",null,"您的国学学习水平如何？",-1)),e[6]||(e[6]=s("p",{class:"step-description"},"告诉我们您的学习阶段，以便推荐适合的学习内容",-1)),s("div",X,[(o(),n(d,null,u(h,t=>s("div",{key:t.value,class:v(["level-card",{selected:l.level===t.value}]),onClick:r=>z(t.value)},[s("h3",null,a(t.label),1),s("p",null,a(t.description),1)],10,Y)),64))])])):(o(),n("div",ee,[e[11]||(e[11]=s("h2",null,"为您推荐的学习内容",-1)),e[12]||(e[12]=s("p",{class:"step-description"},"根据您的选择，我们为您精选了以下内容，点击添加到您的收藏",-1)),s("div",se,[s("div",te,[e[8]||(e[8]=s("h3",null,"推荐书籍",-1)),s("div",le,[(o(!0),n(d,null,u(k.value,t=>(o(),n("div",{key:t.id,class:v(["book-card",{selected:l.recommendedBooks.includes(t.id)}]),onClick:r=>O(t.id)},[s("div",ne,[s("img",{src:t.cover,alt:t.title},null,8,oe),e[7]||(e[7]=s("div",{class:"selection-mark"},"✓",-1))]),s("h4",null,a(t.title),1),s("p",null,a(t.author),1)],10,ie))),128))])]),s("div",ae,[e[10]||(e[10]=s("h3",null,"推荐课程",-1)),s("div",re,[(o(!0),n(d,null,u(_.value,t=>(o(),n("div",{key:t.id,class:v(["course-card",{selected:l.recommendedCourses.includes(t.id)}]),onClick:r=>x(t.id)},[s("div",de,[s("img",{src:t.cover,alt:t.title},null,8,ue),e[9]||(e[9]=s("div",{class:"selection-mark"},"✓",-1))]),s("h4",null,a(t.title),1),s("p",null,a(t.instructor),1)],10,ce))),128))])])])]))]),s("div",ve,[c.value>1?(o(),n("button",{key:0,class:"prev-button",onClick:B},"上一步")):F("",!0),s("button",{class:"next-button",onClick:S},a(c.value<g?"下一步":"开始学习"),1)])]))}}),ke=L(ge,[["__scopeId","data-v-9114faf9"]]);export{ke as default};
